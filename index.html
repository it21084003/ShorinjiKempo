<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Learning Website</title>
     <!-- Bootstrap CSS -->
     <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
     <!-- Font Awesome for icons -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    
    <style>
      body {
        background-color: #fff;
        font-family: sans-serif;
        overflow-x: hidden;
      }

      #menu-trigger {
        display: none;
        + label {
          background-color: #333;
          color: #fff;
          cursor: pointer;
          padding: 10px 10px;
          margin: 0px;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1;
          border-radius: 3px;
          transition: transform 0.3s ease;
          -webkit-user-select: none;
          -khtml-user-select: none;
          -moz-user-select: none;
          -o-user-select: none;
          user-select: none;
          &:hover {
            background-color: #222;
          }
        }
        &:checked {
          + label {
            transform: translateX(250px);
          }
          ~ header {
            transform: translateX(0px);
          }
          ~ #content {
            transform: translateX(250px);
          }
        }
      }

      #content {
        transition: transform 0.3s ease;
      }

      .stuff {
        width: 60%;
        margin: 10px auto;
        background-color: #ccc;
        border-radius: 2px;
        height: 100px;
      }

      header {
        background-color: #333;
        height: 100%;
        width: 250px;
        overflow: auto;
        position: fixed;
        top: 0;
        left: 0;
        transform: translateX(-250px);
        transition: transform 0.3s ease;
      }

      #mainContentTitle{
        padding-left: 30px;
        margin-top: -5px;
      }

      
    </style>
  </head>
  <body>
    <input id="menu-trigger" type="checkbox" />
    <label for="menu-trigger"><i class="fas fa-bars"></i></label>

    <header>
        <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter1"
        >5級</a
      >
      <div id="chapter1" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('5級', 'chapter1_lesson1', '流水蹴（前）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >流水蹴（前）</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('5級', 'chapter1_lesson2', '上受蹴（表）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >上受蹴（表）</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('5級', 'chapter1_lesson3', '上受蹴（裏）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >上受蹴（裏）</a
        >
      </div>

      <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter2"
        >4級</a
      >
      <div id="chapter2" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('4級', 'chapter2_lesson1', '外受突（裏・表）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >外受突（裏・表）</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('4級', 'chapter2_lesson2', '外受蹴（裏・表）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >外受蹴（裏・表）</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('4級', 'chapter2_lesson3', '片手送小手', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >片手送小手</a
        >
      </div>


      <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter3"
        >3級</a
      >
      <div id="chapter3" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('3級', 'chapter3_lesson1', '腕十字固より', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >腕十字固より</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('3級', 'chapter3_lesson2', '両手寄抜', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >両手寄抜</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('3級', 'chapter3_lesson3', '巻抜き（両手）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >巻抜き（両手）</a
        >
      </div>

      <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter4"
        >2級</a
      >
      <div id="chapter4" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('2級', 'chapter2_lesson1', '腕十字固より', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >腕十字固より</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('2級', 'chapter2_lesson2', '両手寄抜', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >両手寄抜</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('2級', 'chapter2_lesson3', '巻抜き（両手）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >巻抜き（両手）</a
        >
      </div>
      <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter5"
        >1級</a
      >
      <div id="chapter5" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('1級', 'chapter2_lesson1', '腕十字固より', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >腕十字固より</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('1級', 'chapter2_lesson2', '両手寄抜', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >両手寄抜</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('1級', 'chapter2_lesson3', '巻抜き（両手）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >巻抜き（両手）</a
        >
      </div>
      <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter6"
        >初段</a
      >
      <div id="chapter6" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('初段', 'chapter2_lesson1', '腕十字固より', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >腕十字固より</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('初段', 'chapter2_lesson2', '両手寄抜', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >両手寄抜</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('初段', 'chapter2_lesson3', '巻抜き（両手）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >巻抜き（両手）</a
        >
      </div>
      <a
        href="#"
        class="list-group-item chapter-title"
        data-toggle="collapse"
        data-target="#chapter7"
        >2段</a
      >
      <div id="chapter7" class="collapse">
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('2段', 'chapter2_lesson1', '腕十字固より', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >腕十字固より</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('2段', 'chapter2_lesson2', '両手寄抜', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >両手寄抜</a
        >
        <a
          href="#"
          class="list-group-item"
          onclick="changeVideo(new LessonData('2段', 'chapter2_lesson3', '巻抜き（両手）', '説明説明説明説明説明説明説明説明説明説明説明説明'))"
          >巻抜き（両手）</a
        >
      </div>
    </header>

    <div id="content">
      <!-- Main Content -->
      <div class="col-md-9 pt-3 main-content">
        <h2 id="mainContentTitle">Main Content Title</h2>

        <!-- Video Player -->
        <div class="embed-responsive embed-responsive-16by9 mt-4">
          <video class="embed-responsive-item" controls>
            <!-- The source will be updated dynamically by the JavaScript code -->
            Your browser does not support the video tag.
          </video>
        </div>

        <!-- Additional Content -->
        <div class="pt-3" id="additionalContent">
          <h3 id="additionalContentTitle">Additional Content Title</h3>
          <p id="additionalContentParagraph">
            This is some additional content that you can include in the main
            area.
          </p>
        </div>
      </div>
    </div>
    <script>

class LessonData {
        constructor(chapter, lesson, title, content) {
          this.chapter = chapter;
          this.lesson = lesson;
          this.title = title;
          this.content = content;
        }
      }

      function changeVideo(lesson) {
        // Construct the video source based on the lesson
        var videoSource = `video/${lesson.lesson}.mp4`;

        // Update the source of the embedded video
        document.querySelector("video").src = videoSource;

        // Start playing the video
        document.querySelector("video").play();

        // Store the current lesson and chapter in localStorage
        localStorage.setItem("currentLesson", lesson.lesson);
        localStorage.setItem("currentChapter", lesson.chapter);

        // Update the Additional Content based on the lesson
        updateAdditionalContent(lesson);

        // Update the Main Content Title based on the chapter
        document.querySelector('#mainContentTitle').textContent = lesson.chapter;

        // Close the header by unchecking the menu-trigger checkbox
        document.getElementById('menu-trigger').checked = false;
      }

      function updateAdditionalContent(lesson) {
        var additionalContentTitle = document.querySelector(
          "#additionalContentTitle"
        );
        var additionalContentParagraph = document.querySelector(
          "#additionalContentParagraph"
        );

        // Check if lesson is a valid object and has necessary properties
        if (lesson && lesson.title && lesson.content) {
          // Set content based on the lesson
          additionalContentTitle.textContent = lesson.title;
          additionalContentParagraph.textContent = lesson.content;
        } else {
          // Display a default message if the lesson object is invalid or properties are missing
          additionalContentTitle.textContent = "水蹴（前）";
          additionalContentParagraph.textContent =
            "説明説明説明説明説明説明説明説明説明説明説明説明";
        }
      }

      // Check if there's a stored lesson and chapter and load them
      document.addEventListener("DOMContentLoaded", function () {
        var storedLesson = localStorage.getItem("currentLesson");
        var storedChapter = localStorage.getItem("currentChapter");
        if (storedLesson && storedChapter) {
          changeVideo(new LessonData(storedChapter, storedLesson, "", ""));
        }
      });

    </script>
    <!-- Bootstrap JS and jQuery (required for Bootstrap components) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
